alias ccr='cd $CR_HOME'
alias cwk='cd $WK_HOME'

alias goma-start='goma_ctl ensure_start'
alias goma-restart='goma_ctl restart'
alias goma-stop='goma_ctl stop'

alias rbas='git rebase-update && gclient sync -D'

alias start='git cm && git fo && git merge && gclient sync -D && gn gen -C out/Release && tools/clang/scripts/generate_compdb.py -p out/Release > compile_commands.json && goma_ctl ensure_start && br chrome browser_tests unit_tests'

build() {
  autoninja -k 1000 -C $1 ${@:2}
}

alias bcros='build out/CrOS'
alias blacros='build out_linux_lacros/Release'
alias br='build out/Release'
alias basan='build out/asan'
alias ba='ninja -j 1000 -k 1000 -C out/Debug chrome_public_apk_incremental && out/Debug/bin/install_chrome_public_apk_incremental'

build-run-xvfb() {
  build $1 $2 && testing/run_with_dummy_home.py testing/xvfb.py $1/$2 ${@:3}
}

alias br-run='build-run-xvfb out/Release'
alias basan-run='build-run-xvfb out/asan'
alias bcros-run='build-run-xvfb out/CrOS'
alias blacros-run='build-run-xvfb out_linux_lacros/Release'

git-grep-replace() {
    eval s1="$2"
    eval s2="$3"
    git grep ${s1} $1 | cut -f 1 -d : | sort | uniq | xargs sed -i "s@${s1}@${s2}@g"
}

alias realiascr='source ~/dotfiles/chromium_aliases'

export GYP_CHROMIUM_NO_ACTION=1
